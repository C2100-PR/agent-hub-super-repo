apiVersion: container.gke.io/v1beta1
kind: Cluster
metadata:
  name: agent-hub-cluster
  location: us-west4-c  # Updated to match ray-instance location
spec:
  autopilot:
    enabled: true
  releaseChannel:
    channel: REGULAR
  networkConfig:
    enableIntraNodeVisibility: true
    datapathProvider: ADVANCED_DATAPATH
  securityConfig:
    enableWorkloadIdentity: true
  vertexAiConfig:
    enabled: true
    resourceConfig:
      memoryPerAgent: "96Gi"
  nodePools:
    - name: ray-instance-pool  # Updated to match naming convention
      config:
        machineType: n1-standard-4  # Updated to match ray-instance
        diskSizeGb: 10  # Updated to match ray-instance
        diskType: pd-standard  # Updated to standard disk
        metadata:
          disable-legacy-endpoints: "true"
      management:
        autoRepair: true
        autoUpgrade: true